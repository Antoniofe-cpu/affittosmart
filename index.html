<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trova la Tua Casa a Bologna - Affitto Smart</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
    :root { 
        --colore-primario: #0D47A1; 
        --colore-secondario: #1565C0; 
        --colore-accento: #FFA000; 
        --colore-testo: #212121; 
        --colore-testo-chiaro: #616161; 
        --colore-sfondo-pagina: #f4f6f9; 
        --colore-bianco: #ffffff;
    }
    html { scroll-behavior: smooth; }
    body { font-family: 'Poppins', sans-serif; margin: 0; background-color: var(--colore-bianco); }
    .container { max-width: 900px; margin: 0 auto; padding: 0 20px; }
    
    .header { padding: 25px 0; text-align: center; border-bottom: 1px solid #eee;}
    .logo { font-size: 2.5em; font-weight: 800; color: var(--colore-primario); text-decoration: none; }
    .logo span { font-weight: 400; color: var(--colore-secondario); }

    .hero-search { padding: 80px 0; }
    .hero-search h1 { font-size: 3.2em; color: var(--colore-primario); line-height: 1.2; text-align: center; }
    .hero-search .subtitle { font-size: 1.3em; color: var(--colore-testo-chiaro); max-width: 700px; margin: 15px auto 50px auto; text-align: center; }
    
    .unified-form {
        background: var(--colore-sfondo-pagina); 
        padding: 40px; 
        border-radius: 24px;
    }
    .form-section { margin-bottom: 40px; }
    .form-section h2 { font-size: 1.8em; margin-top: 0; display: flex; align-items: center; gap: 15px; border-bottom: 2px solid #e0e0e0; padding-bottom: 15px; margin-bottom: 25px;}
    .form-section .icon { color: var(--colore-accento); }
    .filter-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; }
    .filter-group label { font-weight: 600; display: block; margin-bottom: 15px; }
    .filter-group select, .filter-group input { display: none; /* Nascondiamo gli input originali */ }

    /* --- NUOVO STILE "SMART" PER I FILTRI --- */
    .smart-options {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }
    .smart-option {
        padding: 10px 20px;
        border: 1px solid #ccc;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-weight: 600;
        background-color: var(--colore-bianco);
    }
    .smart-option.selected {
        background-color: var(--colore-primario);
        color: white;
        border-color: var(--colore-primario);
    }
    .filter-group input[type="number"] {
        display: block; /* Mostriamo l'input per il budget */
        width: 100%; padding: 14px; border-radius: 8px; border: 1px solid #ccc; font-size: 1em; box-sizing: border-box;
    }

    #profile-section {
        display: none; /* Nascosto di default */
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
    }
    #profile-section.visible {
        display: block;
        opacity: 1;
    }
    
    #search-button {
        width: 100%; height: 60px; border-radius: 12px; border: none; margin-top: 30px;
        background-image: linear-gradient(45deg, var(--colore-accento), #FF8F00);
        color: var(--colore-testo); font-size: 1.4em; font-weight: 700; cursor: pointer;
        transition: all 0.3s ease; box-shadow: 0 5px 15px rgba(255,160,0,0.4);
    }
        /* NUOVA SEZIONE IMMAGINE DIVISORIA */
        #image-divider {
            padding: 120px 0;
            background-image: linear-gradient(rgba(13, 71, 161, 0.7), rgba(13, 71, 161, 0.7)), url('https://images.unsplash.com/photo-1505691938895-1758d7feb511?auto=format&fit=crop&w=1200');
            background-attachment: fixed; /* Effetto Parallax */
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            color: white;
            text-align: center;
        }
        #image-divider h2 {
            font-size: 2.5em;
            color: white;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
            margin: 0;
        }

        /* WHY US / EXPLANATION SECTION (CARDS AFFIANCATE) */
        .process-grid { display: flex; justify-content: center; text-align: center; margin-top: 60px; flex-wrap: wrap; gap: 30px;}
        .process-step { 
            flex: 1 1 280px; padding: 30px; background: white; border-radius: 16px; 
            box-shadow: 0 8px 30px rgba(0,0,0,0.07);
            border-bottom: 5px solid var(--colore-accento);
            transition: transform 0.3s ease;
        }
        .process-step:hover { transform: translateY(-10px); }
        .process-step .icon { font-size: 3.5em; color: var(--colore-primario); margin-bottom: 20px; line-height: 1; }
        .process-step h3 { font-size: 1.4em; color: var(--colore-primario); }
        
        /* SEZIONE VISUAL */
        .visual-process { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: center; }
        .visual-process img { width: 100%; border-radius: 12px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .visual-process h3 { font-size: 2em; }
        
        /* FAQ SECTION */
        #faq .section-title { color: var(--colore-bianco); }
        #faq .section-subtitle { color: rgba(255,255,255,0.8); }
        .faq-item { margin-bottom: 15px; border-radius: 12px; background: rgba(255,255,255,0.1); overflow: hidden; }
        .faq-question { width: 100%; background: transparent; border: none; padding: 20px; font-size: 1.2em; font-weight: 600; text-align: left; cursor: pointer; display: flex; justify-content: space-between; align-items: center; color: var(--colore-bianco); }
        .faq-answer { color: rgba(255,255,255,0.9); padding: 0 20px; max-height: 0; overflow: hidden; transition: max-height 0.4s ease, padding 0.4s ease; }
        .faq-item.active .faq-answer { max-height: 200px; padding: 0 20px 20px 20px; }
        .faq-item.active .faq-question .fa-chevron-down { transform: rotate(180deg); }

        /* FOOTER */
        .main-footer { background-color: #1c2833; color: #bdc3c7; padding: 40px 0; text-align: center; font-size: 0.9em; }
        .main-footer a { color: white; }

        @media (max-width: 950px) {
            .process-step { flex-basis: 100%; }
        }
        @media (max-width: 768px) { 
            .hero-search h1 { font-size: 2.5em; }
            .visual-process { grid-template-columns: 1fr; }
        }
        /* Aggiungi questo al tuo CSS in cerca.html */
.radio-group {
    display: flex;
    gap: 15px;
    align-items: center;
    background-color: #f9f9f9;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
}
.radio-group input[type="radio"] {
    display: none; /* Nascondiamo il pallino di default */
}
.radio-group label {
    flex: 1;
    text-align: center;
    padding: 8px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-weight: 600;
}
.radio-group input[type="radio"]:checked + label {
    background-color: var(--colore-primario);
    color: white;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}
    </style>
</head>
<body>
    <header class="header">
        <a href="cerca.html" class="logo">Affitto <span>Smart</span></a>
    </header>

    <main>
    <form id="unified-search-form">
        <section class="hero-search">
            <div class="container">
                <div class="hero-text">
                    <h1>La casa giusta, senza compromessi.</h1>
                    <p class="subtitle">Dicci chi sei e cosa cerchi. Il nostro sistema intelligente ti mostrerà solo le opportunità a Bologna per cui sei perfettamente compatibile.</p>
                </div>
                
                <div class="unified-form">
                    <!-- Sezione 1: Le Tue Preferenze -->
                    <div class="form-section" id="preferences-section">
                        <h2><i class="fa-solid fa-map-location-dot icon"></i>Cosa cerchi?</h2>
                        <div class="filter-grid">
                            <div class="filter-group">
                                <label>Tipo di Immobile</label>
                                <div class="smart-options" data-target-name="tipo">
                                    <div class="smart-option" data-value="">Qualsiasi</div>
                                    <div class="smart-option" data-value="Stanza Singola">Stanza Singola</div>
                                    <div class="smart-option" data-value="Monolocale">Monolocale</div>
                                    <div class="smart-option" data-value="Bilocale">Bilocale</div>
                                </div>
                                <select name="tipo"><option value=""></option><option>Stanza Singola</option><option>Monolocale</option><option>Bilocale</option></select>
                            </div>
                            <div class="filter-group">
                                <label>Zona</label>
                                <div class="smart-options" data-target-name="zona">
                                    <div class="smart-option" data-value="">Qualsiasi</div>
                                    <div class="smart-option" data-value="Centro Storico">Centro Storico</div>
                                    <div class="smart-option" data-value="Murri">Murri</div>
                                    <div class="smart-option" data-value="Bolognina">Bolognina</div>
                                </div>
                                <select name="zona"><option value=""></option><option>Centro Storico</option><option>Murri</option><option>Bolognina</option></select>
                            </div>
                            <div class="filter-group">
                                <label>Budget Massimo (€)</label>
                                <input type="number" name="prezzo" placeholder="Es. 900">
                            </div>
                        </div>
                    </div>

                    <!-- Sezione 2: Il Tuo Profilo (Nascosta all'inizio) -->
                    <div class="form-section" id="profile-section">
                        <h2><i class="fa-solid fa-user-check icon"></i>Perfetto! Ora dicci chi sei.</h2>
                        <div class="filter-grid">
                            <div class="filter-group">
                                <label>Situazione Lavorativa</label>
                                <div class="smart-options" data-target-name="situazione_lavorativa">
                                    <div class="smart-option" data-value="Dipendente a tempo indeterminato">Tempo Indeterminato</div>
                                    <div class="smart-option" data-value="Studente/ssa con garante">Studente con Garante</div>
                                    <div class="smart-option" data-value="Lavoratore Autonomo / P.IVA">Autonomo / P.IVA</div>
                                </div>
                                <select name="situazione_lavorativa" required><option></option><option>Dipendente a tempo indeterminato</option><option>Studente/ssa con garante</option><option>Lavoratore Autonomo / P.IVA</option></select>
                            </div>
                            <div class="filter-group">
                                <label>Possiedi animali?</label>
                                <div class="smart-options" data-target-name="animali">
                                    <div class="smart-option" data-value="Sì">Sì</div>
                                    <div class="smart-option" data-value="No">No</div>
                                </div>
                                <select name="animali" required><option></option><option>Sì</option><option>No</option></select>
                            </div>
                        </div>
                    </div>

                    <button type="submit" id="search-button">Scopri le Tue Opportunità</button>
                </div>
            </div>
        </section>

        <!-- NUOVA SEZIONE IMMAGINE DIVISORIA -->
        <section id="image-divider">
            <div class="container">
                <h2>Il tuo prossimo capitolo inizia qui.</h2>
            </div>
        </section>

        <!-- MODIFICA: La sezione ora è "section-light" e le card sono allineate -->
        <section class="why-us section-light">
            <div class="container text-center">
                <h2 class="section-title">Il nostro non è un semplice annuncio.<br>È un invito a un evento esclusivo.</h2>
                <p class="section-subtitle">Capire il nostro metodo significa capire perché avrai più chance di trovare la casa che desideri, senza stress.</p>
                <div class="process-grid">
                    <div class="process-step">
                        <div class="icon"><i class="fa-solid fa-wand-magic-sparkles"></i></div>
                        <h3>Passo 1: Matching Intelligente</h3>
                        <p>Il sistema incrocia i tuoi dati con le richieste dei proprietari e ti mostra solo gli immobili per cui sei 100% compatibile. Zero perdite di tempo.</p>
                    </div>
                    <div class="process-step">
                        <div class="icon"><i class="fa-solid fa-ticket-simple"></i></div>
                        <h3>Passo 2: Il Tuo Posto Riservato</h3>
                        <p>Per le case idonee, potrai assicurarti la partecipazione con una piccola fee di <strong>2,99€</strong>, garantendo un Open Day a numero chiuso con solo persone realmente interessate.</p>
                    </div>
                    <div class="process-step">
                        <div class="icon"><i class="fa-solid fa-handshake-simple"></i></div>
                        <h3>Passo 3: L'Esperienza Open Day</h3>
                        <p>Non una semplice visita, ma un incontro di qualità. Avrai tutto il tempo per esplorare la casa, fare domande e, soprattutto, per presentarti al meglio.</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- MODIFICA: Sezione con immagine e descrizione affiancate -->
        <section class="section-white">
            <div class="container">
                <div class="visual-process">
                    <div>
                        <h3>Il Controllo è nelle Tue Mani.</h3>
                        <p class="section-subtitle" style="text-align: left; margin: 20px 0; max-width: 100%;">Dopo aver acquistato il tuo posto riservato, il passo finale è semplice e immediato. Verrai reindirizzato alla nostra agenda privata dove potrai scegliere, con un solo click, lo slot orario che preferisci per l'Open Day. Niente telefonate, niente attese. Solo tu, il tuo calendario e la tua prossima casa.</p>
                    </div>
                    <div>
                       <img src="assets/calendly-esempio.png" alt="Esempio di prenotazione orario su Calendly">
                    </div>
                </div>
            </div>
        </section>

        <!-- MODIFICA: Sezione FAQ su sfondo blu -->
        <section id="faq" class="section-dark">
            <div class="container">
                <h2 class="section-title text-center" style="color: var(--colore-bianco);">Ancora Dubbi? È normale.</h2>
                <p class="section-subtitle text-center" style="color: rgba(255,255,255,0.8);">Ecco le risposte che cerchi. La nostra trasparenza è la tua prima garanzia.</p>
                <div class="faq-container" style="max-width: 800px; margin: 0 auto;">
                    <div class="faq-item">
                        <button class="faq-question"><span>Perché devo pagare 2,99€?</span><i class="fa-solid fa-chevron-down"></i></button>
                        <div class="faq-answer"><p>La piccola fee non è un costo, ma un filtro di serietà. Ci permette di assicurarci che solo le persone veramente interessate partecipino, creando un ambiente di visita rispettoso e di alta qualità per tutti. È il tuo modo per dire "Io ci sono e faccio sul serio".</p></div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question"><span>Cosa succede dopo che ho manifestato interesse?</span><i class="fa-solid fa-chevron-down"></i></button>
                        <div class="faq-answer"><p>Raccoglieremo le manifestazioni di interesse di tutti i partecipanti e le presenteremo al proprietario. Sarà lui a fare la scelta finale. Ti garantiamo un feedback rapido e trasparente, qualunque sia l'esito.</p></div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question"><span>Chi si occupa del contratto d'affitto?</span><i class="fa-solid fa-chevron-down"></i></button>
                        <div class="faq-answer"><p>Una volta che il proprietario ha scelto e tu hai accettato, vi metteremo in contatto diretto per finalizzare l'accordo. Possiamo fornirvi modelli di contratto standard e consigliarvi professionisti per la stesura e la registrazione, se necessario.</p></div>
                    </div>
                    <div class="faq-item">
                        <button class="faq-question"><span>E per la consegna delle chiavi?</span><i class="fa-solid fa-chevron-down"></i></button>
                        <div class="faq-answer"><p>La consegna delle chiavi avviene direttamente tra te e il proprietario al momento della firma del contratto o nella data di inizio locazione concordata. Il nostro ruolo termina con il matching perfetto.</p></div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <p>© 2025 Affitto Smart | <a href="/index.html">Sei un Proprietario? Clicca qui</a> | <a href="#">Privacy Policy</a></p>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('unified-search-form');
        const preferencesSection = document.getElementById('preferences-section');
        const profileSection = document.getElementById('profile-section');
        
        // --- LOGICA PER I FILTRI "SMART" ---
        const smartOptionContainers = document.querySelectorAll('.smart-options');
        smartOptionContainers.forEach(container => {
            const hiddenSelect = container.nextElementSibling;
            const options = container.querySelectorAll('.smart-option');

            options.forEach(option => {
                option.addEventListener('click', () => {
                    // Deseleziona gli altri nella stessa riga
                    options.forEach(opt => opt.classList.remove('selected'));
                    // Seleziona quello cliccato
                    option.classList.add('selected');
                    // Aggiorna il valore del select nascosto
                    hiddenSelect.value = option.dataset.value;
                    
                    // Attiva l'evento 'change' per la logica di visualizzazione
                    hiddenSelect.dispatchEvent(new Event('change'));
                });
            });
        });

        // --- LOGICA PER MOSTRARE LA SEZIONE PROFILO ---
        const preferenceInputs = preferencesSection.querySelectorAll('select, input[type="number"]');
        let filledPreferences = 0;

        function checkPreferences() {
            filledPreferences = 0;
            preferenceInputs.forEach(input => {
                if (input.value) {
                    filledPreferences++;
                }
            });
            if (filledPreferences >= 2) {
                profileSection.classList.add('visible');
            } else {
                profileSection.classList.remove('visible');
            }
        }

        preferenceInputs.forEach(input => {
            input.addEventListener('change', checkPreferences);
            input.addEventListener('keyup', checkPreferences); // Per il campo budget
        });

        // --- GESTIONE INVIO FINALE ---
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(form);
            const queryString = new URLSearchParams(formData).toString();
            window.location.href = 'risultati.html?' + queryString;
        });
    });
</script>
</body>
</html>
